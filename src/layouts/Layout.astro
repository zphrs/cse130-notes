---
import { ViewTransitions } from "astro:transitions"
interface Props {
  title: string
}

const { title } = Astro.props
---

<!doctype html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='description' content='Astro description' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='generator' content={Astro.generator} />
    <ViewTransitions />
    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <link
      rel='preload'
      href='https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Comfortaa:wght@700&family=Fira+Code&display=swap'
      as='style'
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link
        rel='stylesheet'
        href='https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Comfortaa:wght@700&family=Fira+Code&display=swap'
      /></noscript
    >
    <title>{title}</title>
  </head>
  <body>
    <script>
      import type { TransitionBeforePreparationEvent } from "astro/virtual-modules/transitions-events.js"
      document.addEventListener("astro:before-preparation", ev => {
        const event = ev as TransitionBeforePreparationEvent
        if (!event.from.pathname.startsWith("/notes")) {
          return
        }
        if (event.from.pathname.endsWith("notes/")) {
          event.preventDefault()
          return
        }
        if (event.to.pathname.endsWith("notes/")) {
          return
        }
        if (!event.sourceElement) {
          return
        }
        switch (event.sourceElement.className) {
          case "next":
            event.direction = "forward"
            break
          case "prev":
            event.direction = "back"
            break
          default:
            return
            break
        }
      })
    </script>
    <slot />
    <style is:global>
      :root {
        --violet-1: #02001f;
        --violet-2: #03002e;
        --violet-5: #09004a;
        --violet-10: #100069;
        --violet-20: #1f00a4;
        --violet-30: #3728c2;
        --violet-40: #5047da;
        --violet-50: #6a62f4;
        --violet-60: #8681ff;
        --violet-70: #a5a1ff;
        --violet-80: #c3c0ff;
        --violet-90: #e3dfff;
        --violet-95: #f2efff;
        --violet-98: #fcf8ff;
        --violet-99: #fffbff;
        --seafoam-1: #000502;
        --seafoam-2: #000a05;
        --seafoam-5: #00150c;
        --seafoam-10: #002115;
        --seafoam-20: #043827;
        --seafoam-30: #214f3d;
        --seafoam-40: #3a6754;
        --seafoam-50: #52806c;
        --seafoam-60: #6c9b85;
        --seafoam-70: #86b59e;
        --seafoam-80: #a0d1b9;
        --seafoam-90: #bceed5;
        --seafoam-95: #cafce3;
        --seafoam-98: #e7fff1;
        --seafoam-99: #f4fff7;
        --gray-1: #020403;
        --gray-2: #050807;
        --gray-5: #0e120f;
        --gray-10: #191c1a;
        --gray-20: #2e312d;
        --gray-30: #454843;
        --gray-40: #5e5f59;
        --gray-50: #777771;
        --gray-60: #93918a;
        --gray-70: #aeaba3;
        --gray-80: #cbc6bd;
        --gray-90: #e8e2d8;
        --gray-95: #f7f0e6;
        --gray-98: #fff8f3;
        --gray-99: #fffbff;
        background-color: var(--gray-1);
        color: var(--gray-99);
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Comfortaa", sans-serif;
        color: var(--violet-70);
        margin: 0;
        padding-bottom: 1rem;
      }

      p {
        margin: 0;
        line-height: 1.5;
        padding-bottom: 1rem;
      }

      h1 {
        color: var(--violet-80);
      }
      h2 {
        color: var(--seafoam-80);
      }
      h3 {
        color: var(--seafoam-70);
      }
      h4 {
        color: var(--seafoam-60);
      }

      body {
        font-family:
          "Atkinson Hyperlegible",
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          Oxygen,
          Ubuntu,
          Cantarell,
          "Open Sans",
          "Helvetica Neue",
          sans-serif;
        font-size: 18px;
      }
      a {
        color: var(--violet-70);
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      main {
        max-width: 800px;
        margin: 0 auto;
        background-color: var(--gray-5);
        color: var(--gray-95);
        padding: 1rem;
      }
    </style>
  </body>
</html>
